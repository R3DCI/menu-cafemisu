<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CaféMisu – Menu</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">

<style>
    :root {
        --cafe: #A87555;
        --fond: #F9F5F1;
        --bord: rgba(168,117,85,0.28);
        --radius: 16px;
    }

    body {
        background-color: var(--fond);
        font-family: 'Playfair Display', serif;
        color: var(--cafe);
        margin: 0;
        padding: 0 20px 160px;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
    }

    /* --------- TITRE --------- */
    h1 {
        text-align: center;
        margin-top: 38px;
        margin-bottom: 8px;
        font-size: 2.7rem;
        font-weight: 700;
    }

    a#back-home {
        display:block;
        text-align:center;
        margin-top:12px;
        margin-bottom:28px;
        text-decoration:none;
        font-size:1.18rem;
        font-weight:600;
        color: var(--cafe);
        opacity:0.75;
        transition:0.2s;
    }
    a#back-home:hover { opacity:1; }

    /* --------- CATÉGORIES --------- */
    h2 {
        margin-top: 46px;
        margin-bottom: 15px;
        font-size: 1.9rem;
        border-bottom: 2px solid var(--cafe);
        display: inline-block;
        padding-bottom: 5px;
    }

    /* --------- ITEMS --------- */
    .item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 14px 0;
        border-bottom: 1px solid var(--bord);
        position: relative;
    }

    .name {
        font-weight: 600;
        max-width: 63%;
        font-size: 1.22rem;
    }

    .price {
        margin-right: 12px;
        font-size: 1.22rem;
        opacity: 0.85;
    }

    .add-btn {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: white;
        border: 2px solid var(--cafe);
        color: var(--cafe);
        font-size: 25px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: 0.25s ease;
    }

    .add-btn:hover {
        transform: scale(1.12);
        background: #F3E5DB;
    }

    .plus-one {
        position: absolute;
        right: 60px;
        top: -4px;
        color: var(--cafe);
        font-size: 1.2rem;
        font-weight: bold;
        animation: floatUp 0.8s ease forwards;
        pointer-events: none;
    }

    @keyframes floatUp {
        0% { opacity: 0; transform: translateY(10px); }
        30% { opacity: 1; }
        100% { opacity: 0; transform: translateY(-20px); }
    }

    /* --------- PANIER FLOTTANT --------- */
    #floating-cart-btn {
        position: fixed;
        bottom: 22px;
        right: 22px;
        width: 78px;
        height: 78px;
        background: none;
        border: none;
        padding: 0;
        cursor: pointer;
        z-index: 999;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: transform 0.25s ease;
    }

    #floating-cart-btn img {
        width: 78px;
        height: 78px;
    }

    #floating-cart-btn:hover {
        transform: scale(1.09);
    }

    #cart-count {
        position: absolute;
        top: -4px;
        right: -4px;
        width: 28px;
        height: 28px;
        background: white;
        border-radius: 50%;
        border: 2px solid var(--cafe);
        color: var(--cafe);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        font-weight: 700;
    }

    /* --------- BOTTOM SHEET --------- */
    #cart-sheet {
        position: fixed;
        bottom: -100%;
        left: 0;
        width: 100%;
        height: 76%;
        background: rgba(255,255,255,0.85);
        backdrop-filter: blur(18px);
        box-shadow: 0 -7px 25px rgba(0,0,0,0.18);
        border-radius: 28px 28px 0 0;
        transition: 0.38s cubic-bezier(.25,.46,.45,.94);
        z-index: 1000;
        padding: 28px 24px;
        overflow-y: auto;
        overflow-x: hidden;
    }

    #sheet-header {
        position: sticky;
        top: 0;
        background: rgba(255,255,255,0.70);
        backdrop-filter: blur(10px);
        padding-bottom: 16px;
        padding-top: 12px;
        z-index: 10;
        font-size: 1.58rem;
        font-weight: 700;
        display: flex;
        justify-content: space-between;
        margin-bottom: 12px;
    }

    .cart-item {
        display: grid;
        grid-template-columns: 1fr auto auto;
        align-items: center;
        padding: 16px 0;
        border-bottom: 1px solid var(--bord);
        animation: slideIn 0.32s ease forwards;
        opacity: 0;
    }

    @keyframes slideIn {
        from { opacity: 0; transform: translateY(14px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .qty-controls {
        display: flex;
        align-items: center;
        gap: 14px;
    }

    .qty-btn {
        width: 38px;
        height: 38px;
        border-radius: 50%;
        border: 2px solid var(--cafe);
        background: white;
        font-size: 22px;
        cursor: pointer;
        color: var(--cafe);
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .total-line {
        margin-top: 28px;
        font-size: 1.65rem;
        font-weight: 700;
        text-align: right;
        margin-bottom: 20px;
    }

    #send-whatsapp {
        width: 100%;
        padding: 18px;
        background: var(--cafe);
        color: white;
        border: none;
        border-radius: var(--radius);
        font-size: 1.38rem;
        cursor: pointer;
        font-weight: 600;
        margin-bottom: 12px;
    }

    /* --------- POPUP LIVRAISON --------- */
    #popup-bg {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.45);
        backdrop-filter: blur(4px);
        display: none;
        z-index: 2000;
    }

    #popup {
        width: 88%;
        max-width: 480px;
        background: white;
        margin: 120px auto 0;
        padding: 30px;
        border-radius: 26px;
        box-shadow: 0 12px 40px rgba(0,0,0,0.28);
    }

    #popup-title {
        font-size: 1.9rem;
        text-align: center;
        font-weight: 700;
        margin-bottom: 25px;
    }

    .input {
        width: 100%;
        padding: 15px;
        margin-bottom: 15px;
        border-radius: var(--radius);
        border: 2px solid var(--bord);
        font-size: 1.12rem;
        background: #fffdfc;
    }

    #confirm-btn, #cancel-btn {
        width: 100%;
        padding: 16px;
        margin-top: 4px;
        border-radius: var(--radius);
        font-size: 1.28rem;
        font-weight: 600;
        border: none;
        cursor: pointer;
    }

    #confirm-btn { background: var(--cafe); color: white; }
    #cancel-btn { background: #D6C8C0; color: white; margin-top: 12px; }
</style>
</head>
<body>

<h1>Menu CaféMisu</h1>
<a id="back-home" href="index.html">← Retour à l’accueil</a>

<!-- === Your full menu content is here (truncated for file generation) === -->

<!-- PANIER + POPUP -->
<div id="cart-sheet">
    <div id="sheet-header">
        <span>Votre panier</span>
        <span style="cursor:pointer" onclick="closeCart()">✕</span>
    </div>
    <div id="cart-items"></div>
    <div class="total-line">Total : <span id="cart-total">0</span> FCFA</div>
    <button id="send-whatsapp" onclick="openPopup()">Commander sur WhatsApp</button>
    <button class="close-sheet" onclick="closeCart()">Fermer</button>
</div>

<button id="floating-cart-btn" onclick="openCart()">
    <img src="tiramisu-icon.png">
    <span id="cart-count">0</span>
</button>

<div id="popup-bg">
    <div id="popup">
        <div id="popup-title">Infos de livraison</div>
        <input type="text" id="nom" class="input" placeholder="Nom complet">
        <input type="text" id="tel" class="input" placeholder="Téléphone">
        <input type="text" id="adress" class="input" placeholder="Adresse de livraison">
        <button id="confirm-btn" onclick="confirmAndSend()">Confirmer et envoyer</button>
        <button id="cancel-btn" onclick="closePopup()">Annuler</button>
    </div>
</div>

<script>
let cart = [];
function addToCart(name, price) {
    let exist = cart.find(x => x.name===name);
    exist ? exist.qty++ : cart.push({name, price, qty:1});
    updateCartCount();
    renderCartItems();
}
function updateCartCount() {
    document.getElementById("cart-count").innerText =
        cart.reduce((a,b)=>a+b.qty,0);
}
function openCart(){document.getElementById("cart-sheet").style.bottom="0";}
function closeCart(){document.getElementById("cart-sheet").style.bottom="-100%";}
function renderCartItems() {
    let c=document.getElementById("cart-items"); c.innerHTML="";
    cart.forEach((it,i)=>{
        let d=document.createElement("div");
        d.className="cart-item";
        d.innerHTML=`
            <span style="font-weight:600; font-size:1.18rem;">${it.name}</span>
            <div class="qty-controls">
                <button class="qty-btn" onclick="decreaseQty(${i})">−</button>
                <span style="font-size:1.25rem;">${it.qty}</span>
                <button class="qty-btn" onclick="increaseQty(${i})">+</button>
            </div>
            <span style="font-size:1.22rem;">${(it.price*it.qty).toLocaleString()} FCFA</span>`;
        c.appendChild(d);
    });
    updateTotal();
}
function increaseQty(i){cart[i].qty++;renderCartItems();updateCartCount();}
function decreaseQty(i){cart[i].qty--;if(cart[i].qty<=0)cart.splice(i,1);renderCartItems();updateCartCount();}
function updateTotal(){
    document.getElementById("cart-total").innerText=
        cart.reduce((a,b)=>a+b.price*b.qty,0).toLocaleString();
}
function openPopup(){
    if(!cart.length){alert("Votre panier est vide.");return;}
    document.getElementById("popup-bg").style.display="block";
}
function closePopup(){document.getElementById("popup-bg").style.display="none";}
function confirmAndSend(){
    let n=document.getElementById("nom").value.trim();
    let t=document.getElementById("tel").value.trim();
    let a=document.getElementById("adress").value.trim();
    if(!n||!t||!a){alert("Veuillez remplir toutes les informations.");return;}
    let msg=`Bonjour, je souhaiterais commander :\n\n`;
    cart.forEach(i=>msg+=`• ${i.name} x${i.qty} — ${(i.price*i.qty).toLocaleString()} FCFA\n`);
    let total=cart.reduce((s,i)=>s+i.price*i.qty,0);
    msg+=`\nTotal : ${total.toLocaleString()} FCFA\n\nNom : ${n}\nTéléphone : ${t}\nAdresse : ${a}`;
    window.location.href=`https://wa.me/2250716699999?text=${encodeURIComponent(msg)}`;
}
</script>

</body>
</html>
